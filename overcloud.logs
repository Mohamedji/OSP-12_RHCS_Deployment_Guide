The disable_upgrade_deployment flag is not set in the roles file. This flag is expected when you have a nova-compute or swift-storage role. Please check the contents of the roles file: [{'ServicesDefault': ['OS::TripleO::Services::CACerts', 'OS::TripleO::Services::CephMon', 'OS::TripleO::Services::CephExternal', 'OS::TripleO::Services::CephRbdMirror', 'OS::TripleO::Services::CinderApi', 'OS::TripleO::Services::CinderBackup', 'OS::TripleO::Services::CinderScheduler', 'OS::TripleO::Services::CinderVolume', 'OS::TripleO::Services::Congress', 'OS::TripleO::Services::Kernel', 'OS::TripleO::Services::Keystone', 'OS::TripleO::Services::GlanceApi', 'OS::TripleO::Services::HeatApi', 'OS::TripleO::Services::HeatApiCfn', 'OS::TripleO::Services::HeatApiCloudwatch', 'OS::TripleO::Services::HeatEngine', 'OS::TripleO::Services::MySQL', 'OS::TripleO::Services::MySQLClient', 'OS::TripleO::Services::NeutronDhcpAgent', 'OS::TripleO::Services::NeutronL3Agent', 'OS::TripleO::Services::NeutronMetadataAgent', 'OS::TripleO::Services::NeutronApi', 'OS::TripleO::Services::NeutronCorePlugin', 'OS::TripleO::Services::NeutronOvsAgent', 'OS::TripleO::Services::RabbitMQ', 'OS::TripleO::Services::HAproxy', 'OS::TripleO::Services::Keepalived', 'OS::TripleO::Services::Memcached', 'OS::TripleO::Services::Pacemaker', 'OS::TripleO::Services::Redis', 'OS::TripleO::Services::NovaConductor', 'OS::TripleO::Services::MongoDb', 'OS::TripleO::Services::NovaApi', 'OS::TripleO::Services::NovaPlacement', 'OS::TripleO::Services::NovaMetadata', 'OS::TripleO::Services::NovaScheduler', 'OS::TripleO::Services::NovaConsoleauth', 'OS::TripleO::Services::NovaVncProxy', 'OS::TripleO::Services::Ec2Api', 'OS::TripleO::Services::Ntp', 'OS::TripleO::Services::SwiftProxy', 'OS::TripleO::Services::SwiftStorage', 'OS::TripleO::Services::SwiftRingBuilder', 'OS::TripleO::Services::Snmp', 'OS::TripleO::Services::Sshd', 'OS::TripleO::Services::Timezone', 'OS::TripleO::Services::CeilometerApi', 'OS::TripleO::Services::CeilometerCollector', 'OS::TripleO::Services::CeilometerExpirer', 'OS::TripleO::Services::CeilometerAgentCentral', 'OS::TripleO::Services::CeilometerAgentNotification', 'OS::TripleO::Services::Horizon', 'OS::TripleO::Services::GnocchiApi', 'OS::TripleO::Services::GnocchiMetricd', 'OS::TripleO::Services::GnocchiStatsd', 'OS::TripleO::Services::AodhApi', 'OS::TripleO::Services::AodhEvaluator', 'OS::TripleO::Services::AodhNotifier', 'OS::TripleO::Services::AodhListener', 'OS::TripleO::Services::SaharaApi', 'OS::TripleO::Services::SaharaEngine', 'OS::TripleO::Services::IronicApi', 'OS::TripleO::Services::IronicConductor', 'OS::TripleO::Services::NovaIronic', 'OS::TripleO::Services::TripleoPackages', 'OS::TripleO::Services::TripleoFirewall', 'OS::TripleO::Services::OpenDaylightApi', 'OS::TripleO::Services::OpenDaylightOvs', 'OS::TripleO::Services::SensuClient', 'OS::TripleO::Services::FluentdClient', 'OS::TripleO::Services::Collectd', 'OS::TripleO::Services::BarbicanApi', 'OS::TripleO::Services::PankoApi', 'OS::TripleO::Services::Tacker', 'OS::TripleO::Services::Zaqar', 'OS::TripleO::Services::OVNDBs', 'OS::TripleO::Services::Etcd', 'OS::TripleO::Services::AuditD', 'OS::TripleO::Services::OctaviaApi', 'OS::TripleO::Services::OctaviaHealthManager', 'OS::TripleO::Services::OctaviaHousekeeping', 'OS::TripleO::Services::OctaviaWorker'], 'CountDefault': 1, 'HostnameFormatDefault': 'controller-%index%', 'name': 'Controller'}, {'ServicesDefault': ['OS::TripleO::Services::CACerts', 'OS::TripleO::Services::CephClient', 'OS::TripleO::Services::CephExternal', 'OS::TripleO::Services::Timezone', 'OS::TripleO::Services::Ntp', 'OS::TripleO::Services::Snmp', 'OS::TripleO::Services::Sshd', 'OS::TripleO::Services::NovaCompute', 'OS::TripleO::Services::NovaLibvirt', 'OS::TripleO::Services::Kernel', 'OS::TripleO::Services::ComputeNeutronCorePlugin', 'OS::TripleO::Services::ComputeNeutronOvsAgent', 'OS::TripleO::Services::ComputeCeilometerAgent', 'OS::TripleO::Services::ComputeNeutronL3Agent', 'OS::TripleO::Services::ComputeNeutronMetadataAgent', 'OS::TripleO::Services::TripleoPackages', 'OS::TripleO::Services::TripleoFirewall', 'OS::TripleO::Services::NeutronSriovAgent', 'OS::TripleO::Services::OpenDaylightOvs', 'OS::TripleO::Services::SensuClient', 'OS::TripleO::Services::FluentdClient', 'OS::TripleO::Services::AuditD', 'OS::TripleO::Services::Collectd'], 'CountDefault': 1, 'HostnameFormatDefault': '%stackname%-compute-r630-%index%', 'name': 'R630Compute'}, {'ServicesDefault': ['OS::TripleO::Services::CACerts', 'OS::TripleO::Services::CephClient', 'OS::TripleO::Services::CephExternal', 'OS::TripleO::Services::Timezone', 'OS::TripleO::Services::Ntp', 'OS::TripleO::Services::Snmp', 'OS::TripleO::Services::Sshd', 'OS::TripleO::Services::NovaCompute', 'OS::TripleO::Services::NovaLibvirt', 'OS::TripleO::Services::Kernel', 'OS::TripleO::Services::ComputeNeutronCorePlugin', 'OS::TripleO::Services::ComputeNeutronOvsAgent', 'OS::TripleO::Services::ComputeCeilometerAgent', 'OS::TripleO::Services::ComputeNeutronL3Agent', 'OS::TripleO::Services::ComputeNeutronMetadataAgent', 'OS::TripleO::Services::TripleoPackages', 'OS::TripleO::Services::TripleoFirewall', 'OS::TripleO::Services::NeutronSriovAgent', 'OS::TripleO::Services::OpenDaylightOvs', 'OS::TripleO::Services::SensuClient', 'OS::TripleO::Services::FluentdClient', 'OS::TripleO::Services::AuditD', 'OS::TripleO::Services::Collectd'], 'CountDefault': 1, 'HostnameFormatDefault': '%stackname%-compute-r220-%index%', 'name': 'R220Compute'}, {'ServicesDefault': ['OS::TripleO::Services::CACerts', 'OS::TripleO::Services::CephOSD', 'OS::TripleO::Services::Kernel', 'OS::TripleO::Services::Ntp', 'OS::TripleO::Services::Snmp', 'OS::TripleO::Services::Sshd', 'OS::TripleO::Services::Timezone', 'OS::TripleO::Services::TripleoPackages', 'OS::TripleO::Services::TripleoFirewall', 'OS::TripleO::Services::SensuClient', 'OS::TripleO::Services::FluentdClient', 'OS::TripleO::Services::AuditD', 'OS::TripleO::Services::Collectd'], 'CountDefault': 1, 'HostnameFormatDefault': 'cephstorage-%index%', 'name': 'CephStorage'}]
Waiting for messages on queue 'f8389061-ad43-46fa-8766-e9bdae2bad50' with no timeout.
Configuration has 2 errors, fix them before proceeding. Ignoring these errors is likely to lead to a failed deploy.

Started Mistral Workflow tripleo.validations.v1.check_pre_deployment_validations. Execution ID: 82e4b981-c304-47ff-8ab7-557db5c1a14e
{u'errors': [u'Not enough baremetal nodes - available: 11, requested: 12'], u'result': {u'enough_nodes': False, u'statistics': {u'count': 11, u'vcpus_used': 7, u'local_gb_used': 280, u'manager': {u'api': {u'server_groups': None, u'keypairs': None, u'servers': None, u'server_external_events': None, u'server_migrations': None, u'agents': None, u'instance_action': None, u'glance': None, u'hypervisor_stats': None, u'virtual_interfaces': None, u'flavors': None, u'availability_zones': None, u'user_id': None, u'cloudpipe': None, u'os_cache': False, u'quotas': None, u'migrations': None, u'usage': None, u'logger': None, u'project_id': None, u'neutron': None, u'quota_classes': None, u'project_name': None, u'aggregates': None, u'flavor_access': None, u'services': None, u'list_extensions': None, u'limits': None, u'hypervisors': None, u'cells': None, u'versions': None, u'client': None, u'hosts': None, u'volumes': None, u'assisted_volume_snapshots': None, u'certs': None}}, u'x_openstack_request_ids': [u'req-4b800a70-2562-4383-9af5-f3cadecfed18'], u'memory_mb': 720896, u'current_workload': 0, u'vcpus': 256, u'running_vms': 7, u'free_disk_gb': 4824, u'disk_available_least': 1856, u'_info': {u'count': 11, u'vcpus_used': 7, u'local_gb_used': 280, u'memory_mb': 720896, u'current_workload': 0, u'vcpus': 256, u'running_vms': 7, u'free_disk_gb': 4824, u'disk_available_least': 1856, u'local_gb': 5104, u'free_ram_mb': 692224, u'memory_mb_used': 28672}, u'local_gb': 5104, u'free_ram_mb': 692224, u'memory_mb_used': 28672, u'_loaded': True}, u'requested_count': 12, u'available_count': 11}, u'warnings': []}
ERRORS
[u'Not enough baremetal nodes - available: 11, requested: 12', u'Not enough baremetal nodes - available: 11, requested: 12']
